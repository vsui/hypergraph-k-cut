# hexperiment

This is a tool for generating benchmark data for the various hypergraph cut algorithms.

Overall, this tool will generate families of hypergraphs and run cut algorithms on each hypergraph instance.
At the end of the run, the tool will output information on the runs into an output folder.

## Usage

```hexperiment <config> <dest>```

`<config>` is a path to a YAML file for the configuration of the experiment.
For examples of valid config files see the [`config` directory](config).

`<dest>` is a path to an output directory for the artifacts generated by a run of `hexperiment`.

Optionally, you can pass in a path to a folder of configurations for `<config>`.
Then an experiment for every configuration file in the `<config>` folder will run.
For every configuration file `<name>.yaml`, the artifacts will be output to the directory `<dest>/<name>`.

General usage can be viewed using the `--help` flag.

### Discovery experiments

Discovery experiments measure the time needed for an algorithm to discover a planted minimum cut. It produces
the following artifacts:

- `data.db`: a SQLite database containing individual runs of the algorithm as well as hypergraphs and cuts
- `data.csv`: A CSV file containing averages for the run times of each algorithm on each hypergraph
- `log.txt`: A log of the experiment
- `config.yaml`: The config file of the experiment
- Various plots

### Suboptimality factor experiments

Suboptimality factor experiments give contraction algorithms a time limit and tracks how close each contraction algorithm
gets to the minimum cut at different percentages of the time that an ordering-based algorithm needs. It
produces the following artifacts:

- `data.db`: A SQLite database
- A text for each hypergraph containing cutoff percentages and average cut factors
- A plot for each hypergraph of suboptimality factor vs. time duration (suboptimality factor = cheapest found cut / minimum cut)

## Utilities

You may want to check the sizes of all the hypergraphs generated by a specific configuration before running
an experiment.
You can do this with the `-s` flag:

```hexperiment <config> -s```

For experiments with non-planted instances, you may want to check that the instance has min-cut that is not skewed and not disconnected.
You can do this with the `-c` flag:

```hexperiment <config> -c```

Note that the experiment runner will automatically discard instances that are skewed or disconnected.

If you are interesting in the suboptimality factors of the hypergraph instances, you can examine them with the `-a` flag:

```hexperiment <config> -a```
